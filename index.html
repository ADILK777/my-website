<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAVALIGHT | Professional Valorant Esports Team</title>
    
    <!-- EmailJS Script -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Exo+2:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <style>
        /* ============================================
           RESET & BASE STYLES
        ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
        }
        
        body {
            font-family: 'Exo 2', sans-serif;
            background: #050510;
            color: #ffffff;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            line-height: 1.2;
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }
        
        ul {
            list-style: none;
        }
        
        img {
            max-width: 100%;
            height: auto;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .section-padding {
            padding: 100px 0;
        }
        
        .section-title {
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #ff0055, #00ccff, #aa00ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #ff0055, #00ccff);
            border-radius: 2px;
        }
        
        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #a0b0ff;
            max-width: 700px;
            margin: 0 auto 60px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 500;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: all 0.6s ease;
            z-index: -1;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ff0055, #aa00ff);
            color: white;
            box-shadow: 0 10px 30px rgba(255, 0, 85, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 0, 85, 0.5);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #00ccff, #0066ff);
            color: white;
            box-shadow: 0 10px 30px rgba(0, 204, 255, 0.3);
        }
        
        .btn-secondary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 204, 255, 0.5);
        }
        
        .btn-outline {
            background: transparent;
            color: #00ccff;
            border: 2px solid #00ccff;
            box-shadow: 0 10px 30px rgba(0, 204, 255, 0.1);
        }
        
        .btn-outline:hover {
            background: rgba(0, 204, 255, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 204, 255, 0.2);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            color: black;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #f44336, #c62828);
            color: white;
        }
        
        /* ============================================
           PRELOADER
        ============================================ */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #050510;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        
        .loader {
            width: 80px;
            height: 80px;
            position: relative;
        }
        
        .loader::before,
        .loader::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid transparent;
            animation: loader-rotate 2s linear infinite;
        }
        
        .loader::before {
            border-top-color: #ff0055;
            border-bottom-color: #ff0055;
        }
        
        .loader::after {
            border-left-color: #00ccff;
            border-right-color: #00ccff;
            animation-delay: 0.5s;
        }
        
        @keyframes loader-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loader-text {
            margin-top: 20px;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            color: #00ccff;
            letter-spacing: 2px;
        }
        
        /* ============================================
           NAVIGATION
        ============================================ */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(5, 5, 16, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(0, 204, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .navbar.scrolled {
            padding: 15px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .navbar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ff0055, #aa00ff);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 900;
            color: white;
        }
        
        .logo-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 900;
            background: linear-gradient(90deg, #ff0055, #00ccff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
        }
        
        .nav-menu {
            display: flex;
            gap: 40px;
            align-items: center;
        }
        
        .nav-item {
            position: relative;
        }
        
        .nav-link {
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            color: #a0b0ff;
            transition: all 0.3s ease;
            padding: 5px 0;
            position: relative;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #ff0055, #00ccff);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover {
            color: #ffffff;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .nav-link.active {
            color: #ffffff;
        }
        
        .nav-link.active::after {
            width: 100%;
        }
        
        .nav-cta {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #00ccff;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Role badges */
        .role-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Orbitron', sans-serif;
        }

        .role-team {
            background: #4CAF50;
            color: white;
        }

        .role-admin {
            background: #f44336;
            color: white;
        }

        .role-community {
            background: #00ccff;
            color: #050510;
        }

        /* ============================================
           APPLICATION SYSTEM
        ============================================ */
        .application-card {
            background: rgba(20, 25, 60, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 204, 255, 0.1);
            transition: all 0.3s ease;
        }

        .application-card:hover {
            transform: translateY(-5px);
            border-color: #00ccff;
            box-shadow: 0 10px 30px rgba(0, 204, 255, 0.2);
        }

        .application-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .application-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .status-pending {
            background: #FF9800;
            color: black;
        }

        .status-approved {
            background: #4CAF50;
            color: white;
        }

        .status-rejected {
            background: #f44336;
            color: white;
        }

        .application-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .application-detail {
            display: flex;
            flex-direction: column;
        }

        .application-label {
            font-size: 0.9rem;
            color: #a0b0ff;
            margin-bottom: 5px;
        }

        .application-value {
            font-size: 1.1rem;
            font-weight: 600;
            color: #ffffff;
        }

        .application-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* ============================================
           DASHBOARD SYSTEM - COMPLETELY FIXED
        ============================================ */
        .dashboard {
            display: none;
            min-height: 100vh;
            padding-top: 80px;
            background: #050510;
        }

        .dashboard-header {
            background: rgba(5, 5, 16, 0.95);
            padding: 1.5rem 2rem;
            border-bottom: 1px solid rgba(0, 204, 255, 0.1);
            position: fixed;
            top: 80px;
            width: 100%;
            z-index: 100;
        }

        .dashboard-content {
            display: flex;
            min-height: calc(100vh - 80px);
            margin-top: 80px;
        }

        .dashboard-sidebar {
            background: rgba(5, 10, 30, 0.95);
            width: 280px;
            min-width: 280px;
            padding: 2rem 1rem;
            border-right: 1px solid rgba(0, 204, 255, 0.1);
            height: calc(100vh - 80px);
            position: fixed;
            top: 80px;
            left: 0;
            overflow-y: auto;
            z-index: 99;
        }

        .dashboard-main {
            flex: 1;
            padding: 2rem;
            margin-left: 280px;
            width: calc(100% - 280px);
            background: rgba(5, 5, 16, 0.6);
            min-height: calc(100vh - 80px);
        }

        .sidebar-nav {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 20px;
            color: #a0b0ff;
            text-decoration: none;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            border: 1px solid transparent;
        }

        .sidebar-nav a:hover, .sidebar-nav a.active {
            background: rgba(0, 204, 255, 0.1);
            color: #ffffff;
            border-color: rgba(0, 204, 255, 0.2);
            transform: translateX(5px);
        }

        .sidebar-nav a i {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }

        .dashboard-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .dashboard-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .dashboard-section h2 {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            color: #00ccff;
            border-bottom: 2px solid rgba(0, 204, 255, 0.2);
            padding-bottom: 0.5rem;
        }

        .dashboard-section h3 {
            font-size: 1.5rem;
            margin: 1.5rem 0 1rem;
            color: #ffffff;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-box {
            background: rgba(20, 25, 60, 0.3);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(0, 204, 255, 0.1);
            transition: all 0.3s ease;
            text-align: center;
        }

        .stat-box:hover {
            transform: translateY(-5px);
            border-color: #ff0055;
            box-shadow: 0 10px 30px rgba(255, 0, 85, 0.2);
        }

        .stat-box i {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #00ccff;
            display: block;
        }

        .stat-box h3 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(90deg, #ff0055, #00ccff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .stat-box p {
            color: #a0b0ff;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Data Tables */
        .data-table-container {
            background: rgba(20, 25, 60, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(0, 204, 255, 0.1);
            margin-top: 1rem;
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .data-table th {
            background: rgba(0, 204, 255, 0.1);
            padding: 1rem;
            text-align: left;
            color: #ffffff;
            font-family: 'Orbitron', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid rgba(0, 204, 255, 0.2);
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(0, 204, 255, 0.1);
            color: #a0b0ff;
        }

        .data-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .table-actions {
            display: flex;
            gap: 8px;
        }

        .table-btn {
            padding: 6px 12px;
            font-size: 0.8rem;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .table-btn.edit {
            background: rgba(76, 175, 80, 0.1);
            color: #4CAF50;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .table-btn.edit:hover {
            background: #4CAF50;
            color: white;
        }

        .table-btn.delete {
            background: rgba(244, 67, 54, 0.1);
            color: #f44336;
            border: 1px solid rgba(244, 67, 54, 0.3);
        }

        .table-btn.delete:hover {
            background: #f44336;
            color: white;
        }

        .table-btn.view {
            background: rgba(0, 204, 255, 0.1);
            color: #00ccff;
            border: 1px solid rgba(0, 204, 255, 0.3);
        }

        .table-btn.view:hover {
            background: #00ccff;
            color: #050510;
        }

        /* Form Elements */
        .dashboard-form {
            background: rgba(20, 25, 60, 0.3);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid rgba(0, 204, 255, 0.1);
            margin-top: 1rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            color: #a0b0ff;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            background: rgba(10, 15, 40, 0.5);
            border: 1px solid rgba(0, 204, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            font-family: 'Exo 2', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #00ccff;
            box-shadow: 0 0 0 3px rgba(0, 204, 255, 0.1);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(0, 204, 255, 0.1);
        }

        /* ============================================
           MEDIA GALLERY SECTION (Clips & Videos)
        ============================================ */
        .media {
            position: relative;
            background: linear-gradient(135deg, rgba(5, 10, 30, 0.9), rgba(20, 10, 40, 0.9));
        }

        .media-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 70% 80%, rgba(170, 0, 255, 0.05) 0%, transparent 50%);
            z-index: -1;
        }

        .media-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .media-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .media-tab {
            padding: 12px 30px;
            background: rgba(20, 25, 60, 0.3);
            border: 1px solid rgba(0, 204, 255, 0.1);
            border-radius: 30px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            color: #a0b0ff;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .media-tab:hover {
            color: #ffffff;
            border-color: #00ccff;
        }

        .media-tab.active {
            background: linear-gradient(135deg, #ff0055, #aa00ff);
            color: #ffffff;
            border-color: transparent;
        }

        .media-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .media-item {
            background: rgba(20, 25, 60, 0.3);
            border-radius: 20px;
            overflow: hidden;
            border: 1px solid rgba(0, 204, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .media-item:hover {
            transform: translateY(-10px);
            border-color: #ff0055;
            box-shadow: 0 20px 40px rgba(255, 0, 85, 0.3);
        }

        .media-item-header {
            height: 200px;
            background: linear-gradient(135deg, #333, #000);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .media-item-header::before {
            content: 'â–¶';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            color: white;
            text-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
            opacity: 0.8;
            z-index: 2;
        }

        .media-item-header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255, 0, 85, 0.3), rgba(0, 204, 255, 0.3));
            z-index: 1;
        }

        .media-item-content {
            padding: 25px;
        }

        .media-item-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .media-item-description {
            color: #a0b0ff;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .media-item-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #8899cc;
            font-size: 0.9rem;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .media-item-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        /* ============================================
           MODALS
        ============================================ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(5, 5, 16, 0.95);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: rgba(20, 25, 60, 0.95);
            padding: 40px;
            border-radius: 20px;
            width: 500px;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            border: 1px solid rgba(0, 204, 255, 0.2);
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            backdrop-filter: blur(20px);
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: #a0b0ff;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .close-btn:hover {
            color: #00ccff;
            transform: rotate(90deg);
        }

        /* ============================================
           RESPONSIVE DESIGN
        ============================================ */
        @media (max-width: 1200px) {
            .dashboard-sidebar {
                width: 250px;
                min-width: 250px;
            }
            
            .dashboard-main {
                margin-left: 250px;
                width: calc(100% - 250px);
            }
        }
        
        @media (max-width: 992px) {
            .nav-menu {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 80px);
                background: rgba(5, 5, 16, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                align-items: center;
                justify-content: flex-start;
                padding: 40px 20px;
                gap: 30px;
                transition: left 0.5s ease;
                z-index: 999;
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .nav-cta {
                flex-direction: column;
                width: 100%;
                margin-top: 30px;
            }

            .dashboard-sidebar {
                display: none;
            }

            .dashboard-main {
                margin-left: 0;
                width: 100%;
                padding: 1.5rem;
            }

            .mobile-sidebar-toggle {
                display: block;
                position: fixed;
                bottom: 30px;
                right: 30px;
                z-index: 101;
                background: linear-gradient(135deg, #ff0055, #aa00ff);
                color: white;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.5rem;
                cursor: pointer;
                box-shadow: 0 10px 20px rgba(255, 0, 85, 0.3);
            }
        }
        
        @media (max-width: 768px) {
            .section-padding {
                padding: 80px 0;
            }
            
            .section-title {
                font-size: 2.5rem;
            }

            .media-grid,
            .news-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .modal-content {
                padding: 30px 20px;
            }
        }
        
        @media (max-width: 576px) {
            .btn {
                width: 100%;
                justify-content: center;
            }

            .media-controls {
                flex-direction: column;
                align-items: flex-start;
            }

            .table-actions {
                flex-direction: column;
                gap: 5px;
            }

            .table-btn {
                width: 100%;
                justify-content: center;
            }

            .form-actions {
                flex-direction: column;
            }

            .form-actions .btn {
                width: 100%;
            }
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .mt-20 { margin-top: 20px; }
        .mt-30 { margin-top: 30px; }
        .mt-40 { margin-top: 40px; }
        .mb-20 { margin-bottom: 20px; }
        .mb-30 { margin-bottom: 30px; }
        .d-flex { display: flex; }
        .justify-content-between { justify-content: space-between; }
        .align-items-center { align-items: center; }
        .gap-10 { gap: 10px; }
        .gap-20 { gap: 20px; }
        .w-100 { width: 100%; }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            color: #8899cc;
        }

        .empty-state i {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: rgba(0, 204, 255, 0.2);
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #a0b0ff;
        }

        .empty-state p {
            font-size: 1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Alert Messages */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-success {
            background: rgba(76, 175, 80, 0.1);
            border: 1px solid rgba(76, 175, 80, 0.3);
            color: #4CAF50;
        }

        .alert-error {
            background: rgba(244, 67, 54, 0.1);
            border: 1px solid rgba(244, 67, 54, 0.3);
            color: #f44336;
        }

        .alert-info {
            background: rgba(0, 204, 255, 0.1);
            border: 1px solid rgba(0, 204, 255, 0.3);
            color: #00ccff;
        }

        /* Application Form */
        .application-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .application-step {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .application-step.active {
            display: block;
        }

        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3rem;
            position: relative;
        }

        .step-indicator::before {
            content: '';
            position: absolute;
            top: 24px;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(0, 204, 255, 0.2);
            z-index: 1;
        }

        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(20, 25, 60, 0.5);
            border: 2px solid rgba(0, 204, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: #a0b0ff;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .step.active .step-number {
            background: linear-gradient(135deg, #ff0055, #aa00ff);
            border-color: transparent;
            color: white;
        }

        .step.completed .step-number {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            border-color: transparent;
            color: white;
        }

        .step-label {
            font-size: 0.9rem;
            color: #a0b0ff;
            text-align: center;
        }

        .step.active .step-label {
            color: #ffffff;
        }

        .step-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(0, 204, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div id="preloader">
        <div class="loader"></div>
        <div class="loader-text">CAVALIGHT VALORANT</div>
    </div>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <!-- Mobile Sidebar Toggle -->
    <div class="mobile-sidebar-toggle" id="mobileSidebarToggle" style="display: none;">
        <i class="fas fa-bars"></i>
    </div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="container navbar-container">
            <div class="logo">
                <div class="logo-icon">C</div>
                <div class="logo-text">CAVALIGHT</div>
            </div>
            
            <ul class="nav-menu" id="navMenu">
                <li class="nav-item"><a href="#home" class="nav-link active">Home</a></li>
                <li class="nav-item"><a href="#about" class="nav-link">About</a></li>
                <li class="nav-item"><a href="#roster" class="nav-link">Roster</a></li>
                <li class="nav-item"><a href="#media" class="nav-link">Media</a></li>
                <li class="nav-item"><a href="#events" class="nav-link">Events</a></li>
                <li class="nav-item"><a href="#news" class="nav-link">News</a></li>
                <li class="nav-item"><a href="#community" class="nav-link">Community</a></li>
                <li class="nav-item" id="applyLink" style="display: none;"><a href="#" onclick="openApplicationModal()" class="nav-link">Apply to Team</a></li>
                <li class="nav-item" id="teamPortalItem" style="display: none;"><a href="#" onclick="showTeamPortal()" class="nav-link">Team Portal</a></li>
                <li class="nav-item" id="adminPanelItem" style="display: none;"><a href="#" onclick="showAdminPanel()" class="nav-link">Admin Panel</a></li>
                
                <div class="nav-cta">
                    <div id="userRoleBadge" style="display: none;"></div>
                    <a href="#" class="btn btn-outline" onclick="event.preventDefault(); openModal('registerModal')" id="registerBtn">Register</a>
                    <a href="#" class="btn btn-primary" onclick="event.preventDefault(); openModal('loginModal')" id="loginBtn">Sign In</a>
                </div>
            </ul>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- Main Website Content -->
    <div id="main-website">
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-bg"></div>
            <div class="container">
                <div class="hero-grid">
                    <div class="hero-content">
                        <h1 class="hero-title">CAVALIGHT</h1>
                        <h2 class="hero-subtitle">Professional Valorant Esports Team</h2>
                        <p class="hero-description">
                            From competitive Valorant team to a thriving gaming community. 
                            Join us as we continue our journey together in the world of professional esports.
                        </p>
                        
                        <div class="hero-cta">
                            <a href="#community" class="btn btn-primary">
                                <i class="fas fa-rocket"></i> Join Community
                            </a>
                            <a href="#roster" class="btn btn-secondary">
                                <i class="fas fa-crosshairs"></i> Meet The Team
                            </a>
                            <button class="btn btn-outline" onclick="openModal('registerModal')">
                                <i class="fas fa-user-plus"></i> Register
                            </button>
                        </div>
                        
                        <div class="hero-stats">
                            <div class="stat-item">
                                <div class="stat-number" data-count="24">0</div>
                                <div class="stat-label">Tournaments Won</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" data-count="4">0</div>
                                <div class="stat-label">Pro Players</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" data-count="1">0</div>
                                <div class="stat-label">Active Team</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" data-count="2022">0</div>
                                <div class="stat-label">Established</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hero-visual">
                        <div class="hero-card floating">
                            <h3 class="card-title">ORIGIN STORY</h3>
                            <div class="card-content">
                                <span class="card-highlight">CAVALIGHT</span><br><br>
                                From competitive <span class="card-highlight">Valorant team</span> to a thriving gaming community.<br>
                                Join us as we continue our journey together in the world of <span class="card-highlight">professional esports</span>.<br><br>
                                <div class="d-flex justify-content-between">
                                    <span>JOIN COMMUNITY</span>
                                    <span>MEET THE TEAM</span>
                                    <span>REGISTER</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section class="about section-padding" id="about">
            <div class="about-bg"></div>
            <div class="container">
                <h2 class="section-title">About CAVALIGHT</h2>
                <p class="section-subtitle">
                    We are more than just an esports organization. We are a community of passionate gamers 
                    dedicated to excellence, innovation, and pushing the boundaries of competitive gaming.
                </p>
                
                <div class="about-content">
                    <div class="about-text">
                        <h3 class="about-title">Our Journey</h3>
                        <p class="about-description">
                            CAVALIGHT was founded in 2022 by a group of professional Valorant players who shared a vision: 
                            to create an organization that prioritizes player development, community engagement, and competitive excellence.
                        </p>
                        <p class="about-description">
                            What started as a single competitive team has grown into a thriving Valorant esports organization 
                            with a focus on nurturing talent, building a supportive community, and achieving competitive 
                            success at the highest levels.
                        </p>
                        
                        <div class="about-features">
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-trophy"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>Competitive Excellence</h4>
                                    <p>Multiple tournament wins and top placements</p>
                                </div>
                            </div>
                            
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>Strong Community</h4>
                                    <p>Active community with dedicated members</p>
                                </div>
                            </div>
                            
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-graduation-cap"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>Player Development</h4>
                                    <p>Professional coaching and training programs</p>
                                </div>
                            </div>
                            
                            <div class="feature-item">
                                <div class="feature-icon">
                                    <i class="fas fa-broadcast-tower"></i>
                                </div>
                                <div class="feature-text">
                                    <h4>Content Creation</h4>
                                    <p>Professional streaming and media production</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="about-visual">
                        <div class="about-image">
                            <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80" alt="Esports Team">
                        </div>
                    </div>
                </div>
                
                <div class="about-stats">
                    <div class="about-stat">
                        <div class="about-stat-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="about-stat-number" data-count="24">0</div>
                        <div class="about-stat-label">Tournaments Won</div>
                    </div>
                    
                    <div class="about-stat">
                        <div class="about-stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="about-stat-number" data-count="4">0</div>
                        <div class="about-stat-label">Pro Players</div>
                    </div>
                    
                    <div class="about-stat">
                        <div class="about-stat-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="about-stat-number" data-count="1">0</div>
                        <div class="about-stat-label">Active Team</div>
                    </div>
                    
                    <div class="about-stat">
                        <div class="about-stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="about-stat-number" data-count="75">0</div>
                        <div class="about-stat-label">Events Hosted</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Media Section (Clips & Videos) -->
        <section class="media section-padding" id="media">
            <div class="media-bg"></div>
            <div class="container">
                <h2 class="section-title">MEDIA & CLIPS</h2>
                <p class="section-subtitle">
                    Watch our best plays, highlights, and tournament moments. Community members can upload clips!
                </p>
                
                <div class="media-controls">
                    <div class="media-tabs">
                        <button class="media-tab active" onclick="filterMedia('all')">All Clips</button>
                        <button class="media-tab" onclick="filterMedia('highlights')">Highlights</button>
                        <button class="media-tab" onclick="filterMedia('tournaments')">Tournaments</button>
                        <button class="media-tab" onclick="filterMedia('community')">Community</button>
                    </div>
                    
                    <button class="btn btn-primary" onclick="openUploadModal()" id="uploadClipBtn" style="display: none;">
                        <i class="fas fa-upload"></i> Upload Clip
                    </button>
                </div>
                
                <div class="media-grid" id="mediaGrid">
                    <!-- Media items will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Dashboard (Hidden by default) -->
        <div id="dashboard" class="dashboard">
            <div class="dashboard-header">
                <div class="container d-flex justify-content-between align-items-center">
                    <div>
                        <h1 style="color: #00ccff; font-size: 2rem;">CAVALIGHT DASHBOARD</h1>
                        <p style="color: #a0b0ff; font-size: 1rem;">Welcome back, <span id="dashboardUsername"></span>!</p>
                    </div>
                    <button class="btn btn-outline" onclick="hideDashboard()">
                        <i class="fas fa-arrow-left"></i> Back to Website
                    </button>
                </div>
            </div>
            
            <div class="dashboard-content">
                <div class="dashboard-sidebar" id="dashboardSidebar">
                    <div class="sidebar-nav">
                        <a href="#" class="active" onclick="showDashboardSection('overview')">
                            <i class="fas fa-tachometer-alt"></i> Overview
                        </a>
                        <a href="#" onclick="showDashboardSection('applications')">
                            <i class="fas fa-file-signature"></i> Applications
                        </a>
                        <a href="#" onclick="showDashboardSection('media')">
                            <i class="fas fa-video"></i> Media
                        </a>
                        <a href="#" onclick="showDashboardSection('events')">
                            <i class="fas fa-calendar-alt"></i> Events
                        </a>
                        <a href="#" onclick="showDashboardSection('news')">
                            <i class="fas fa-newspaper"></i> News
                        </a>
                        <a href="#" onclick="showDashboardSection('users')" id="usersNav" style="display: none;">
                            <i class="fas fa-users"></i> User Management
                        </a>
                        <a href="#" onclick="showDashboardSection('roster')" id="rosterNav" style="display: none;">
                            <i class="fas fa-user-edit"></i> Roster
                        </a>
                        <a href="#" onclick="showDashboardSection('analytics')" id="analyticsNav" style="display: none;">
                            <i class="fas fa-chart-bar"></i> Analytics
                        </a>
                        <a href="#" onclick="showDashboardSection('settings')" id="settingsNav" style="display: none;">
                            <i class="fas fa-cog"></i> Settings
                        </a>
                        <div class="mt-40"></div>
                        <a href="#" onclick="logoutUser()" style="background: rgba(244, 67, 54, 0.1); color: #f44336; border-color: rgba(244, 67, 54, 0.3);">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>
                
                <div class="dashboard-main">
                    <!-- Overview Section -->
                    <div id="overview-section" class="dashboard-section active">
                        <h2>Dashboard Overview</h2>
                        
                        <div class="stats-grid">
                            <div class="stat-box">
                                <i class="fas fa-users"></i>
                                <h3 id="totalUsers">0</h3>
                                <p>Total Users</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-video"></i>
                                <h3 id="totalMedia">0</h3>
                                <p>Media Uploads</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-calendar-check"></i>
                                <h3 id="totalEvents">0</h3>
                                <p>Upcoming Events</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-file-signature"></i>
                                <h3 id="totalApplications">0</h3>
                                <p>Applications</p>
                            </div>
                        </div>
                        
                        <h3>Recent Activity</h3>
                        <div class="data-table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>User</th>
                                        <th>Action</th>
                                        <th>Time</th>
                                    </tr>
                                </thead>
                                <tbody id="recentActivity">
                                    <!-- Activity logs will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Applications Section -->
                    <div id="applications-section" class="dashboard-section">
                        <div class="d-flex justify-content-between align-items-center mb-30">
                            <h2>Applications Management</h2>
                            <button class="btn btn-primary" onclick="openApplicationModal()" id="newApplicationBtn">
                                <i class="fas fa-plus"></i> New Application
                            </button>
                        </div>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            Manage team applications from community members
                        </div>
                        
                        <div id="applicationsList">
                            <!-- Applications will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Media Management Section -->
                    <div id="media-section" class="dashboard-section">
                        <div class="d-flex justify-content-between align-items-center mb-30">
                            <h2>Media Management</h2>
                            <button class="btn btn-primary" onclick="openUploadModal()">
                                <i class="fas fa-upload"></i> Upload Media
                            </button>
                        </div>
                        
                        <div class="stats-grid">
                            <div class="stat-box">
                                <i class="fas fa-video"></i>
                                <h3 id="dashboardMediaCount">0</h3>
                                <p>Total Clips</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-eye"></i>
                                <h3 id="dashboardMediaViews">0</h3>
                                <p>Total Views</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-thumbs-up"></i>
                                <h3 id="dashboardMediaLikes">0</h3>
                                <p>Total Likes</p>
                            </div>
                        </div>
                        
                        <div class="data-table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Category</th>
                                        <th>Uploader</th>
                                        <th>Date</th>
                                        <th>Views</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="mediaListTable">
                                    <!-- Media items will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- User Management Section (Admin Only) -->
                    <div id="users-section" class="dashboard-section">
                        <h2>User Management</h2>
                        
                        <div class="stats-grid">
                            <div class="stat-box">
                                <i class="fas fa-user-friends"></i>
                                <h3 id="teamMembersCount">0</h3>
                                <p>Team Members</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-user-shield"></i>
                                <h3 id="adminsCount">0</h3>
                                <p>Administrators</p>
                            </div>
                            <div class="stat-box">
                                <i class="fas fa-user-clock"></i>
                                <h3 id="pendingAppsCount">0</h3>
                                <p>Pending Applications</p>
                            </div>
                        </div>
                        
                        <div class="data-table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Username</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Join Date</th>
                                        <th>Last Login</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="userListTable">
                                    <!-- Users will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Add other sections similarly -->
                    <div id="events-section" class="dashboard-section">
                        <div class="d-flex justify-content-between align-items-center mb-30">
                            <h2>Event Management</h2>
                            <button class="btn btn-primary" onclick="openEventModal()">
                                <i class="fas fa-plus"></i> Create Event
                            </button>
                        </div>
                        
                        <div class="data-table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Event Name</th>
                                        <th>Date</th>
                                        <th>Type</th>
                                        <th>Location</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="eventsListTable">
                                    <!-- Events will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="news-section" class="dashboard-section">
                        <div class="d-flex justify-content-between align-items-center mb-30">
                            <h2>News Management</h2>
                            <button class="btn btn-primary" onclick="openNewsModal()">
                                <i class="fas fa-plus"></i> Create News
                            </button>
                        </div>
                        
                        <div class="data-table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Category</th>
                                        <th>Author</th>
                                        <th>Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="newsListTable">
                                    <!-- News will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="roster-section" class="dashboard-section">
                        <h2>Roster Management</h2>
                        <p>Manage team roster here.</p>
                    </div>
                    
                    <div id="analytics-section" class="dashboard-section">
                        <h2>Analytics</h2>
                        <p>View website and community analytics here.</p>
                    </div>
                    
                    <div id="settings-section" class="dashboard-section">
                        <h2>Settings</h2>
                        <p>Configure website settings here.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer (kept minimal for brevity) -->
        <footer class="footer">
            <div class="container">
                <div class="text-center" style="padding: 40px 0;">
                    <p style="color: #a0b0ff;">&copy; 2023 CAVALIGHT Valorant Esports Team. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- ============================================
         MODALS - ALL NEW & WORKING
    ============================================ -->
    
    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('loginModal')">&times;</button>
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: #00ccff;">SIGN IN</h3>
            <form id="loginForm" onsubmit="event.preventDefault(); loginUser();">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">SIGN IN</button>
                <div class="form-switch text-center mt-20">
                    Don't have an account? <a onclick="switchToRegister()" style="color: #00ccff; cursor: pointer;">Register here</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="registerModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('registerModal')">&times;</button>
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: #00ccff;">REGISTER</h3>
            <form id="registerForm" onsubmit="event.preventDefault(); registerUser();">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <input type="text" id="regUsername" class="form-control" placeholder="Choose a username" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="regEmail" class="form-control" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" id="regPassword" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Confirm Password</label>
                    <input type="password" id="regConfirmPassword" class="form-control" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Access Code (Optional)</label>
                    <input type="text" id="regAccessCode" class="form-control" placeholder="Enter code for special access">
                    <small style="color: #a0b0ff; display: block; margin-top: 5px;">Team Code: 8215 | Admin Code: CAV-ADMIN-9999</small>
                </div>
                <button type="submit" class="btn btn-primary w-100">CREATE ACCOUNT</button>
                <div class="form-switch text-center mt-20">
                    Already have an account? <a onclick="switchToLogin()" style="color: #00ccff; cursor: pointer;">Sign in here</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Application Modal -->
    <div id="applicationModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('applicationModal')">&times;</button>
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: #00ccff;">APPLY TO JOIN CAVALIGHT</h3>
            
            <div class="step-indicator">
                <div class="step active" id="step1">
                    <div class="step-number">1</div>
                    <div class="step-label">Personal Info</div>
                </div>
                <div class="step" id="step2">
                    <div class="step-number">2</div>
                    <div class="step-label">Game Details</div>
                </div>
                <div class="step" id="step3">
                    <div class="step-number">3</div>
                    <div class="step-label">Experience</div>
                </div>
            </div>
            
            <form id="applicationForm" onsubmit="event.preventDefault(); submitApplication();">
                <!-- Step 1: Personal Info -->
                <div class="application-step active" id="applicationStep1">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" id="appName" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Age</label>
                            <input type="number" id="appAge" class="form-control" min="16" max="40" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Discord Username</label>
                            <input type="text" id="appDiscord" class="form-control" placeholder="username#1234" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Country</label>
                            <input type="text" id="appCountry" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Why do you want to join CAVALIGHT?</label>
                        <textarea id="appReason" class="form-control" rows="3" required></textarea>
                    </div>
                    <div class="step-actions">
                        <button type="button" class="btn btn-outline" onclick="nextApplicationStep(2)">Next <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 2: Game Details -->
                <div class="application-step" id="applicationStep2">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Valorant Username</label>
                            <input type="text" id="appValorantName" class="form-control" placeholder="Username#Tag" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Current Rank</label>
                            <select id="appRank" class="form-control" required>
                                <option value="">Select Rank</option>
                                <option value="Iron">Iron</option>
                                <option value="Bronze">Bronze</option>
                                <option value="Silver">Silver</option>
                                <option value="Gold">Gold</option>
                                <option value="Platinum">Platinum</option>
                                <option value="Diamond">Diamond</option>
                                <option value="Ascendant">Ascendant</option>
                                <option value="Immortal">Immortal</option>
                                <option value="Radiant">Radiant</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Main Role(s)</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" name="appRoles" value="Duelist"> Duelist
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" name="appRoles" value="Initiator"> Initiator
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" name="appRoles" value="Controller"> Controller
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px;">
                                <input type="checkbox" name="appRoles" value="Sentinel"> Sentinel
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Main Agents</label>
                        <textarea id="appAgents" class="form-control" placeholder="List your main agents" required></textarea>
                    </div>
                    <div class="step-actions">
                        <button type="button" class="btn btn-outline" onclick="prevApplicationStep(1)"><i class="fas fa-arrow-left"></i> Back</button>
                        <button type="button" class="btn btn-outline" onclick="nextApplicationStep(3)">Next <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Step 3: Experience -->
                <div class="application-step" id="applicationStep3">
                    <div class="form-group">
                        <label class="form-label">Previous Team Experience</label>
                        <textarea id="appExperience" class="form-control" placeholder="List any previous teams or tournaments" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Average Hours Played Per Week</label>
                        <select id="appHours" class="form-control" required>
                            <option value="">Select Hours</option>
                            <option value="1-10">1-10 hours</option>
                            <option value="11-20">11-20 hours</option>
                            <option value="21-30">21-30 hours</option>
                            <option value="31+">31+ hours</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Availability for Practice/Tournaments</label>
                        <textarea id="appAvailability" class="form-control" placeholder="When are you available to practice?" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Anything else you'd like to share?</label>
                        <textarea id="appAdditional" class="form-control" rows="2"></textarea>
                    </div>
                    <div class="step-actions">
                        <button type="button" class="btn btn-outline" onclick="prevApplicationStep(2)"><i class="fas fa-arrow-left"></i> Back</button>
                        <button type="submit" class="btn btn-primary">Submit Application</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Upload Media Modal -->
    <div id="uploadMediaModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('uploadMediaModal')">&times;</button>
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: #00ccff;">UPLOAD MEDIA</h3>
            <form id="uploadMediaForm" onsubmit="event.preventDefault(); uploadMedia();">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" id="mediaTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea id="mediaDescription" class="form-control" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select id="mediaCategory" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="highlights">Highlights</option>
                            <option value="tournaments">Tournaments</option>
                            <option value="community">Community</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Video URL</label>
                        <input type="url" id="mediaUrl" class="form-control" placeholder="YouTube, Twitch, etc." required>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Thumbnail URL (Optional)</label>
                    <input type="url" id="mediaThumbnail" class="form-control" placeholder="Image URL">
                </div>
                <button type="submit" class="btn btn-primary w-100">UPLOAD</button>
            </form>
        </div>
    </div>

    <!-- Create Event Modal -->
    <div id="createEventModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('createEventModal')">&times;</button>
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: #00ccff;">CREATE EVENT</h3>
            <form id="createEventForm" onsubmit="event.preventDefault(); createEvent();">
                <div class="form-group">
                    <label class="form-label">Event Title</label>
                    <input type="text" id="eventTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea id="eventDescription" class="form-control" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Date & Time</label>
                        <input type="datetime-local" id="eventDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Event Type</label>
                        <select id="eventType" class="form-control" required>
                            <option value="">Select Type</option>
                            <option value="tournament">Tournament</option>
                            <option value="scrim">Scrim</option>
                            <option value="community">Community Event</option>
                            <option value="training">Training</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Location/Platform</label>
                    <input type="text" id="eventLocation" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-primary w-100">CREATE EVENT</button>
            </form>
        </div>
    </div>

    <!-- Create News Modal -->
    <div id="createNewsModal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal('createNewsModal')">&times;</button>
            <h3 style="margin-bottom: 1.5rem; text-align: center; color: #00ccff;">CREATE NEWS</h3>
            <form id="createNewsForm" onsubmit="event.preventDefault(); createNews();">
                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" id="newsTitle" class="form-control" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Content</label>
                    <textarea id="newsContent" class="form-control" rows="5" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select id="newsCategory" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="announcement">Announcement</option>
                            <option value="tournament">Tournament Result</option>
                            <option value="team">Team Update</option>
                            <option value="community">Community News</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Image URL (Optional)</label>
                        <input type="url" id="newsImage" class="form-control">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary w-100">PUBLISH NEWS</button>
            </form>
        </div>
    </div>

    <script>
        // =============================================
        // GLOBAL VARIABLES & INITIALIZATION
        // =============================================
        
        // Access Codes
        const ACCESS_CODES = {
            TEAM: "8215",
            ADMIN: "CAV-ADMIN-9999"
        };

        // Initialize EmailJS
        emailjs.init("gO4Y8T0cZIAi1GZT_");

        // Initialize data storage
        const STORAGE_KEYS = {
            USERS: 'cavalight_users',
            CURRENT_USER: 'cavalight_currentUser',
            USER_ROLE: 'cavalight_userRole',
            MEDIA: 'cavalight_media',
            EVENTS: 'cavalight_events',
            NEWS: 'cavalight_news',
            APPLICATIONS: 'cavalight_applications',
            ACTIVITY: 'cavalight_activity'
        };

        // Initialize sample data if empty
        function initializeSampleData() {
            // Users
            if (!localStorage.getItem(STORAGE_KEYS.USERS)) {
                const defaultUsers = [
                    {
                        id: '1',
                        username: 'Admin',
                        email: 'admin@cavalight.com',
                        password: btoa('admin123'),
                        role: 'admin',
                        createdAt: new Date().toISOString(),
                        lastLogin: new Date().toISOString()
                    },
                    {
                        id: '2',
                        username: 'TeamMember',
                        email: 'team@cavalight.com',
                        password: btoa('team123'),
                        role: 'team',
                        createdAt: new Date().toISOString(),
                        lastLogin: new Date().toISOString()
                    },
                    {
                        id: '3',
                        username: 'CommunityUser',
                        email: 'user@cavalight.com',
                        password: btoa('user123'),
                        role: 'community',
                        createdAt: new Date().toISOString(),
                        lastLogin: new Date().toISOString()
                    }
                ];
                localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(defaultUsers));
            }

            // Media
            if (!localStorage.getItem(STORAGE_KEYS.MEDIA)) {
                const defaultMedia = [
                    {
                        id: '1',
                        title: 'A1D ACE CLUTCH',
                        description: 'Incredible 1v5 ace clutch in tournament finals',
                        category: 'highlights',
                        url: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                        thumbnail: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f',
                        uploader: 'Admin',
                        uploaderId: '1',
                        date: '2023-11-15',
                        views: 1250,
                        likes: 89
                    },
                    {
                        id: '2',
                        title: 'Tournament Finals Highlights',
                        description: 'Full match highlights from championship win',
                        category: 'tournaments',
                        url: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                        thumbnail: 'https://images.unsplash.com/photo-1542751371-adc38448a05e',
                        uploader: 'Admin',
                        uploaderId: '1',
                        date: '2023-11-10',
                        views: 3200,
                        likes: 156
                    }
                ];
                localStorage.setItem(STORAGE_KEYS.MEDIA, JSON.stringify(defaultMedia));
            }

            // Events
            if (!localStorage.getItem(STORAGE_KEYS.EVENTS)) {
                const defaultEvents = [
                    {
                        id: '1',
                        title: 'Valorant Community Cup #6',
                        description: 'Monthly community tournament with prizes',
                        date: '2023-12-15T18:00',
                        type: 'tournament',
                        location: 'Discord & Twitch',
                        createdBy: 'Admin',
                        participants: 32,
                        status: 'upcoming'
                    },
                    {
                        id: '2',
                        title: 'Team Scrim Session',
                        description: 'Practice session vs professional team',
                        date: '2023-12-10T20:00',
                        type: 'scrim',
                        location: 'Custom Game',
                        createdBy: 'TeamMember',
                        participants: 10,
                        status: 'upcoming'
                    }
                ];
                localStorage.setItem(STORAGE_KEYS.EVENTS, JSON.stringify(defaultEvents));
            }

            // News
            if (!localStorage.getItem(STORAGE_KEYS.NEWS)) {
                const defaultNews = [
                    {
                        id: '1',
                        title: 'CAVALIGHT Wins Regional Championship',
                        content: 'Our team dominated the regional finals, securing first place and qualifying for nationals.',
                        category: 'tournament',
                        image: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f',
                        author: 'Admin',
                        date: '2023-11-20',
                        status: 'published'
                    }
                ];
                localStorage.setItem(STORAGE_KEYS.NEWS, JSON.stringify(defaultNews));
            }

            // Applications
            if (!localStorage.getItem(STORAGE_KEYS.APPLICATIONS)) {
                localStorage.setItem(STORAGE_KEYS.APPLICATIONS, JSON.stringify([]));
            }

            // Activity Log
            if (!localStorage.getItem(STORAGE_KEYS.ACTIVITY)) {
                const defaultActivity = [
                    {
                        id: '1',
                        user: 'Admin',
                        action: 'Created new event: Valorant Cup #6',
                        time: '2 hours ago'
                    },
                    {
                        id: '2',
                        user: 'TeamMember',
                        action: 'Uploaded scrim results',
                        time: '5 hours ago'
                    }
                ];
                localStorage.setItem(STORAGE_KEYS.ACTIVITY, JSON.stringify(defaultActivity));
            }
        }

        // =============================================
        // CORE APPLICATION FUNCTIONS
        // =============================================

        // Initialize application
        function initApp() {
            initializeSampleData();
            loadWebsiteContent();
            checkLoggedInUser();
            setupEventListeners();
            
            // Trigger counters after load
            setTimeout(() => {
                const counters = document.querySelectorAll('[data-count]');
                counters.forEach(counter => {
                    if (counter.textContent === '0') {
                        animateCounter(counter);
                    }
                });
            }, 500);
        }

        // Load website content
        function loadWebsiteContent() {
            loadMedia();
            loadEvents();
            loadNews();
        }

        // Setup event listeners
        function setupEventListeners() {
            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const navMenu = document.getElementById('navMenu');
            
            if (mobileMenuBtn && navMenu) {
                mobileMenuBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    navMenu.classList.toggle('active');
                    mobileMenuBtn.innerHTML = navMenu.classList.contains('active') 
                        ? '<i class="fas fa-times"></i>' 
                        : '<i class="fas fa-bars"></i>';
                });
            }

            // Mobile sidebar toggle
            const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
            const dashboardSidebar = document.getElementById('dashboardSidebar');
            
            if (mobileSidebarToggle && dashboardSidebar) {
                mobileSidebarToggle.addEventListener('click', () => {
                    dashboardSidebar.style.display = dashboardSidebar.style.display === 'none' ? 'block' : 'none';
                });
            }

            // Close modals on outside click
            window.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.style.display = 'none';
                }
            });

            // Prevent form submissions
            document.addEventListener('submit', (e) => {
                if (e.target.tagName === 'FORM') {
                    e.preventDefault();
                }
            });

            // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // =============================================
        // AUTHENTICATION SYSTEM
        // =============================================

        // Check logged in user
        function checkLoggedInUser() {
            const userData = localStorage.getItem(STORAGE_KEYS.CURRENT_USER);
            const userRole = localStorage.getItem(STORAGE_KEYS.USER_ROLE);
            
            if (userData && userRole) {
                try {
                    const user = JSON.parse(userData);
                    updateUIForUser(user, userRole);
                    loadDashboardData();
                } catch (error) {
                    console.error('Error loading user:', error);
                }
            }
        }

        // Register user
        function registerUser() {
            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const accessCode = document.getElementById('regAccessCode').value;

            // Validation
            if (!username || !email || !password || !confirmPassword) {
                alert('Please fill in all required fields!');
                return;
            }

            if (password !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters long!');
                return;
            }

            // Check if user exists
            const users = JSON.parse(localStorage.getItem(STORAGE_KEYS.USERS) || '[]');
            const existingUser = users.find(u => u.email === email);
            
            if (existingUser) {
                alert('User with this email already exists!');
                return;
            }

            // Determine role based on access code
            let role = 'community';
            if (accessCode === ACCESS_CODES.TEAM) {
                role = 'team';
            } else if (accessCode === ACCESS_CODES.ADMIN) {
                role = 'admin';
            }

            // Create user object
            const newUser = {
                id: Date.now().toString(),
                username: username,
                email: email,
                password: btoa(password),
                role: role,
                createdAt: new Date().toISOString(),
                lastLogin: new Date().toISOString()
            };

            // Save user
            users.push(newUser);
            localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));

            // Set as current user
            localStorage.setItem(STORAGE_KEYS.CURRENT_USER, JSON.stringify({
                id: newUser.id,
                username: username,
                email: email,
                role: role
            }));
            localStorage.setItem(STORAGE_KEYS.USER_ROLE, role);

            // Update UI
            updateUIForUser(newUser, role);
            logActivity(username, 'Registered new account');
            
            alert(`Welcome to CAVALIGHT, ${username}!`);
            closeModal('registerModal');
            loadDashboardData();
        }

        // Login user
        function loginUser() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Please fill in all fields!');
                return;
            }

            const users = JSON.parse(localStorage.getItem(STORAGE_KEYS.USERS) || '[]');
            const user = users.find(u => u.email === email);

            if (!user) {
                alert('No account found with this email!');
                return;
            }

            if (btoa(password) !== user.password) {
                alert('Incorrect password!');
                return;
            }

            // Update last login
            user.lastLogin = new Date().toISOString();
            localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));

            // Set as current user
            localStorage.setItem(STORAGE_KEYS.CURRENT_USER, JSON.stringify({
                id: user.id,
                username: user.username,
                email: user.email,
                role: user.role
            }));
            localStorage.setItem(STORAGE_KEYS.USER_ROLE, user.role);

            // Update UI
            updateUIForUser(user, user.role);
            logActivity(user.username, 'Logged in');
            
            alert(`Welcome back, ${user.username}!`);
            closeModal('loginModal');
            loadDashboardData();
        }

        // Logout user
        function logoutUser() {
            if (confirm('Are you sure you want to log out?')) {
                const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
                if (currentUser.username) {
                    logActivity(currentUser.username, 'Logged out');
                }
                
                localStorage.removeItem(STORAGE_KEYS.CURRENT_USER);
                localStorage.removeItem(STORAGE_KEYS.USER_ROLE);
                resetUI();
                alert('Logged out successfully!');
            }
        }

        // =============================================
        // UI MANAGEMENT
        // =============================================

        // Update UI for user role
        function updateUIForUser(user, role) {
            // Update navigation
            const registerBtn = document.getElementById('registerBtn');
            const loginBtn = document.getElementById('loginBtn');
            const userRoleBadge = document.getElementById('userRoleBadge');
            const applyLink = document.getElementById('applyLink');
            const teamPortalItem = document.getElementById('teamPortalItem');
            const adminPanelItem = document.getElementById('adminPanelItem');
            const uploadClipBtn = document.getElementById('uploadClipBtn');
            const newApplicationBtn = document.getElementById('newApplicationBtn');

            if (registerBtn && loginBtn) {
                registerBtn.textContent = user.username;
                registerBtn.onclick = (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                };
                registerBtn.style.cursor = 'default';
                
                loginBtn.textContent = 'LOGOUT';
                loginBtn.onclick = (e) => {
                    e.preventDefault();
                    logoutUser();
                };
            }

            // Update role badge
            if (userRoleBadge) {
                userRoleBadge.style.display = 'block';
                userRoleBadge.textContent = role.toUpperCase();
                userRoleBadge.className = 'role-badge ' + 
                    (role === 'team' ? 'role-team' : 
                     role === 'admin' ? 'role-admin' : 'role-community');
            }

            // Show/hide elements based on role
            if (applyLink) {
                applyLink.style.display = role === 'community' ? 'block' : 'none';
            }

            if (teamPortalItem) {
                teamPortalItem.style.display = role === 'team' || role === 'admin' ? 'block' : 'none';
            }

            if (adminPanelItem) {
                adminPanelItem.style.display = role === 'admin' ? 'block' : 'none';
            }

            if (uploadClipBtn) {
                uploadClipBtn.style.display = role === 'team' || role === 'admin' ? 'block' : 'none';
            }

            if (newApplicationBtn) {
                newApplicationBtn.style.display = role === 'community' ? 'block' : 'none';
            }

            // Update dashboard username
            const dashboardUsername = document.getElementById('dashboardUsername');
            if (dashboardUsername) {
                dashboardUsername.textContent = user.username;
            }

            // Show admin navigation items
            const usersNav = document.getElementById('usersNav');
            const rosterNav = document.getElementById('rosterNav');
            const analyticsNav = document.getElementById('analyticsNav');
            const settingsNav = document.getElementById('settingsNav');

            if (role === 'admin') {
                if (usersNav) usersNav.style.display = 'block';
                if (rosterNav) rosterNav.style.display = 'block';
                if (analyticsNav) analyticsNav.style.display = 'block';
                if (settingsNav) settingsNav.style.display = 'block';
            }
        }

        // Reset UI to logged out state
        function resetUI() {
            const registerBtn = document.getElementById('registerBtn');
            const loginBtn = document.getElementById('loginBtn');
            const userRoleBadge = document.getElementById('userRoleBadge');
            const applyLink = document.getElementById('applyLink');
            const teamPortalItem = document.getElementById('teamPortalItem');
            const adminPanelItem = document.getElementById('adminPanelItem');
            const uploadClipBtn = document.getElementById('uploadClipBtn');
            const newApplicationBtn = document.getElementById('newApplicationBtn');

            if (registerBtn && loginBtn) {
                registerBtn.textContent = 'REGISTER';
                registerBtn.onclick = (e) => {
                    e.preventDefault();
                    openModal('registerModal');
                };
                registerBtn.style.cursor = 'pointer';
                
                loginBtn.textContent = 'SIGN IN';
                loginBtn.onclick = (e) => {
                    e.preventDefault();
                    openModal('loginModal');
                };
            }

            if (userRoleBadge) {
                userRoleBadge.style.display = 'none';
            }

            if (applyLink) applyLink.style.display = 'none';
            if (teamPortalItem) teamPortalItem.style.display = 'none';
            if (adminPanelItem) adminPanelItem.style.display = 'none';
            if (uploadClipBtn) uploadClipBtn.style.display = 'none';
            if (newApplicationBtn) newApplicationBtn.style.display = 'none';

            // Hide dashboard
            hideDashboard();
        }

        // =============================================
        // DASHBOARD SYSTEM
        // =============================================

        // Show dashboard
        function showDashboard() {
            document.getElementById('main-website').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            loadDashboardData();
        }

        // Hide dashboard
        function hideDashboard() {
            document.getElementById('main-website').style.display = 'block';
            document.getElementById('dashboard').style.display = 'none';
        }

        // Show dashboard section
        function showDashboardSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.dashboard-section').forEach(section => {
                section.classList.remove('active');
            });

            // Update sidebar active state
            document.querySelectorAll('.sidebar-nav a').forEach(link => {
                link.classList.remove('active');
            });

            // Show selected section
            const section = document.getElementById(sectionId + '-section');
            if (section) {
                section.classList.add('active');
            }

            // Update active link
            const activeLink = document.querySelector(`.sidebar-nav a[onclick*="${sectionId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }

            // Load section data
            switch(sectionId) {
                case 'overview':
                    loadDashboardOverview();
                    break;
                case 'applications':
                    loadApplications();
                    break;
                case 'media':
                    loadDashboardMedia();
                    break;
                case 'events':
                    loadDashboardEvents();
                    break;
                case 'news':
                    loadDashboardNews();
                    break;
                case 'users':
                    loadUsers();
                    break;
            }
        }

        // Load dashboard data
        function loadDashboardData() {
            loadDashboardOverview();
            loadApplications();
            loadDashboardMedia();
            loadDashboardEvents();
            loadDashboardNews();
            loadUsers();
        }

        // Load dashboard overview
        function loadDashboardOverview() {
            // Load stats
            const users = JSON.parse(localStorage.getItem(STORAGE_KEYS.USERS) || '[]');
            const media = JSON.parse(localStorage.getItem(STORAGE_KEYS.MEDIA) || '[]');
            const events = JSON.parse(localStorage.getItem(STORAGE_KEYS.EVENTS) || '[]');
            const applications = JSON.parse(localStorage.getItem(STORAGE_KEYS.APPLICATIONS) || '[]');

            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('totalMedia').textContent = media.length;
            document.getElementById('totalEvents').textContent = events.length;
            document.getElementById('totalApplications').textContent = applications.length;

            // Load activity
            const activity = JSON.parse(localStorage.getItem(STORAGE_KEYS.ACTIVITY) || '[]');
            const activityTable = document.getElementById('recentActivity');
            
            if (activityTable) {
                activityTable.innerHTML = '';
                activity.slice(0, 10).forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.user}</td>
                        <td>${item.action}</td>
                        <td>${item.time}</td>
                    `;
                    activityTable.appendChild(row);
                });
            }
        }

        // =============================================
        // MEDIA SYSTEM
        // =============================================

        // Load media
        function loadMedia() {
            const media = JSON.parse(localStorage.getItem(STORAGE_KEYS.MEDIA) || '[]');
            const mediaGrid = document.getElementById('mediaGrid');
            
            if (!mediaGrid) return;

            if (media.length === 0) {
                mediaGrid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-video"></i>
                        <h3>No Media Yet</h3>
                        <p>Be the first to upload a clip!</p>
                    </div>
                `;
                return;
            }

            mediaGrid.innerHTML = '';
            media.forEach(item => {
                const mediaItem = document.createElement('div');
                mediaItem.className = 'media-item';
                mediaItem.innerHTML = `
                    <div class="media-item-header" style="background-image: url('${item.thumbnail}'); background-size: cover; background-position: center;">
                    </div>
                    <div class="media-item-content">
                        <h3 class="media-item-title">${item.title}</h3>
                        <p class="media-item-description">${item.description}</p>
                        <div class="media-item-meta">
                            <span><i class="fas fa-eye"></i> ${item.views}</span>
                            <span><i class="fas fa-heart"></i> ${item.likes}</span>
                            <span><i class="fas fa-calendar"></i> ${item.date}</span>
                            <span><i class="fas fa-user"></i> ${item.uploader}</span>
                        </div>
                        <div class="media-item-actions">
                            <button class="btn btn-outline" onclick="watchMedia('${item.url}')">
                                <i class="fas fa-play"></i> Watch
                            </button>
                            <button class="btn btn-primary" onclick="shareMedia('${item.title}', '${item.url}')">
                                <i class="fas fa-share"></i> Share
                            </button>
                        </div>
                    </div>
                `;
                mediaGrid.appendChild(mediaItem);
            });
        }

        // Load dashboard media
        function loadDashboardMedia() {
            const media = JSON.parse(localStorage.getItem(STORAGE_KEYS.MEDIA) || '[]');
            const tableBody = document.getElementById('mediaListTable');
            
            if (!tableBody) return;

            // Update stats
            const totalViews = media.reduce((sum, item) => sum + (item.views || 0), 0);
            const totalLikes = media.reduce((sum, item) => sum + (item.likes || 0), 0);
            
            document.getElementById('dashboardMediaCount').textContent = media.length;
            document.getElementById('dashboardMediaViews').textContent = totalViews;
            document.getElementById('dashboardMediaLikes').textContent = totalLikes;

            // Update table
            tableBody.innerHTML = '';
            media.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.title}</td>
                    <td><span class="role-badge" style="background: #00ccff; color: #050510; padding: 3px 8px; border-radius: 10px; font-size: 0.8rem;">${item.category}</span></td>
                    <td>${item.uploader}</td>
                    <td>${item.date}</td>
                    <td>${item.views || 0}</td>
                    <td class="table-actions">
                        <button class="table-btn view" onclick="watchMedia('${item.url}')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="table-btn edit" onclick="editMedia('${item.id}')">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="table-btn delete" onclick="deleteMedia('${item.id}', '${item.title}')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Upload media
        function uploadMedia() {
            const title = document.getElementById('mediaTitle').value;
            const description = document.getElementById('mediaDescription').value;
            const category = document.getElementById('mediaCategory').value;
            const url = document.getElementById('mediaUrl').value;
            const thumbnail = document.getElementById('mediaThumbnail').value;

            if (!title || !description || !category || !url) {
                alert('Please fill in all required fields!');
                return;
            }

            const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
            const media = JSON.parse(localStorage.getItem(STORAGE_KEYS.MEDIA) || '[]');

            const newMedia = {
                id: Date.now().toString(),
                title: title,
                description: description,
                category: category,
                url: url,
                thumbnail: thumbnail || 'https://images.unsplash.com/photo-1550745165-9bc0b252726f',
                uploader: currentUser.username || 'Anonymous',
                uploaderId: currentUser.id || 'anonymous',
                date: new Date().toLocaleDateString(),
                views: 0,
                likes: 0
            };

            media.push(newMedia);
            localStorage.setItem(STORAGE_KEYS.MEDIA, JSON.stringify(media));
            logActivity(currentUser.username, `Uploaded media: ${title}`);

            alert('Media uploaded successfully!');
            closeModal('uploadMediaModal');
            loadMedia();
            loadDashboardMedia();
        }

        // =============================================
        // APPLICATION SYSTEM
        // =============================================

        // Open application modal
        function openApplicationModal() {
            // Reset form steps
            resetApplicationForm();
            openModal('applicationModal');
        }

        // Reset application form
        function resetApplicationForm() {
            // Reset all steps
            document.querySelectorAll('.application-step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active', 'completed');
            });

            // Show first step
            document.getElementById('applicationStep1').classList.add('active');
            document.getElementById('step1').classList.add('active');

            // Clear form
            document.getElementById('applicationForm').reset();
        }

        // Next application step
        function nextApplicationStep(stepNumber) {
            // Validate current step
            const currentStep = stepNumber - 1;
            const currentStepId = `applicationStep${currentStep}`;
            const currentStepElement = document.getElementById(currentStepId);
            
            let isValid = true;
            const inputs = currentStepElement.querySelectorAll('input[required], select[required], textarea[required]');
            inputs.forEach(input => {
                if (!input.value.trim()) {
                    isValid = false;
                    input.style.borderColor = '#f44336';
                } else {
                    input.style.borderColor = '';
                }
            });

            if (!isValid) {
                alert('Please fill in all required fields!');
                return;
            }

            // Update steps
            document.querySelectorAll('.application-step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });

            // Show next step
            document.getElementById(`applicationStep${stepNumber}`).classList.add('active');
            document.getElementById(`step${stepNumber}`).classList.add('active');

            // Mark previous step as completed
            document.getElementById(`step${currentStep}`).classList.add('completed');
        }

        // Previous application step
        function prevApplicationStep(stepNumber) {
            document.querySelectorAll('.application-step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });

            document.getElementById(`applicationStep${stepNumber}`).classList.add('active');
            document.getElementById(`step${stepNumber}`).classList.add('active');
        }

        // Submit application
        function submitApplication() {
            const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
            
            if (!currentUser.id) {
                alert('Please log in to submit an application!');
                openModal('loginModal');
                closeModal('applicationModal');
                return;
            }

            // Get form data
            const application = {
                id: Date.now().toString(),
                userId: currentUser.id,
                username: currentUser.username,
                email: currentUser.email,
                name: document.getElementById('appName').value,
                age: document.getElementById('appAge').value,
                discord: document.getElementById('appDiscord').value,
                country: document.getElementById('appCountry').value,
                reason: document.getElementById('appReason').value,
                valorantName: document.getElementById('appValorantName').value,
                rank: document.getElementById('appRank').value,
                agents: document.getElementById('appAgents').value,
                experience: document.getElementById('appExperience').value,
                hours: document.getElementById('appHours').value,
                availability: document.getElementById('appAvailability').value,
                additional: document.getElementById('appAdditional').value,
                status: 'pending',
                date: new Date().toISOString(),
                roles: Array.from(document.querySelectorAll('input[name="appRoles"]:checked')).map(cb => cb.value)
            };

            // Save application
            const applications = JSON.parse(localStorage.getItem(STORAGE_KEYS.APPLICATIONS) || '[]');
            applications.push(application);
            localStorage.setItem(STORAGE_KEYS.APPLICATIONS, JSON.stringify(applications));
            logActivity(currentUser.username, 'Submitted team application');

            alert('Application submitted successfully! We will review it soon.');
            closeModal('applicationModal');
            loadApplications();
        }

        // Load applications
        function loadApplications() {
            const applications = JSON.parse(localStorage.getItem(STORAGE_KEYS.APPLICATIONS) || '[]');
            const applicationsList = document.getElementById('applicationsList');
            const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
            const userRole = localStorage.getItem(STORAGE_KEYS.USER_ROLE);
            
            if (!applicationsList) return;

            if (applications.length === 0) {
                applicationsList.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-file-signature"></i>
                        <h3>No Applications Yet</h3>
                        <p>Be the first to apply to the team!</p>
                    </div>
                `;
                return;
            }

            // Filter applications based on user role
            let filteredApplications = applications;
            if (userRole === 'community') {
                filteredApplications = applications.filter(app => app.userId === currentUser.id);
            }

            applicationsList.innerHTML = '';
            filteredApplications.forEach(app => {
                const applicationCard = document.createElement('div');
                applicationCard.className = 'application-card';
                
                let statusClass = 'status-pending';
                if (app.status === 'approved') statusClass = 'status-approved';
                if (app.status === 'rejected') statusClass = 'status-rejected';

                applicationCard.innerHTML = `
                    <div class="application-header">
                        <div>
                            <h3 style="color: #ffffff; margin-bottom: 5px;">${app.name}</h3>
                            <p style="color: #a0b0ff; font-size: 0.9rem;">Applied: ${new Date(app.date).toLocaleDateString()}</p>
                        </div>
                        <div class="application-status ${statusClass}">${app.status}</div>
                    </div>
                    
                    <div class="application-details">
                        <div class="application-detail">
                            <span class="application-label">Valorant Name</span>
                            <span class="application-value">${app.valorantName}</span>
                        </div>
                        <div class="application-detail">
                            <span class="application-label">Rank</span>
                            <span class="application-value">${app.rank}</span>
                        </div>
                        <div class="application-detail">
                            <span class="application-label">Age</span>
                            <span class="application-value">${app.age}</span>
                        </div>
                        <div class="application-detail">
                            <span class="application-label">Country</span>
                            <span class="application-value">${app.country}</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px;">
                        <p style="color: #a0b0ff; margin-bottom: 10px;"><strong>Why they want to join:</strong></p>
                        <p style="color: #ffffff; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 5px;">${app.reason}</p>
                    </div>
                    
                    ${userRole === 'admin' ? `
                    <div class="application-actions">
                        <button class="btn btn-success" onclick="updateApplicationStatus('${app.id}', 'approved')">
                            <i class="fas fa-check"></i> Approve
                        </button>
                        <button class="btn btn-danger" onclick="updateApplicationStatus('${app.id}', 'rejected')">
                            <i class="fas fa-times"></i> Reject
                        </button>
                        <button class="btn btn-outline" onclick="viewApplicationDetails('${app.id}')">
                            <i class="fas fa-eye"></i> View Details
                        </button>
                    </div>
                    ` : ''}
                `;
                
                applicationsList.appendChild(applicationCard);
            });
        }

        // Update application status
        function updateApplicationStatus(appId, status) {
            const applications = JSON.parse(localStorage.getItem(STORAGE_KEYS.APPLICATIONS) || '[]');
            const appIndex = applications.findIndex(app => app.id === appId);
            
            if (appIndex !== -1) {
                applications[appIndex].status = status;
                applications[appIndex].reviewedAt = new Date().toISOString();
                localStorage.setItem(STORAGE_KEYS.APPLICATIONS, JSON.stringify(applications));
                
                const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
                logActivity(currentUser.username, `Updated application status to ${status}`);
                
                alert(`Application ${status} successfully!`);
                loadApplications();
            }
        }

        // =============================================
        // EVENT SYSTEM
        // =============================================

        // Load events
        function loadEvents() {
            // Implementation similar to loadMedia
        }

        // Load dashboard events
        function loadDashboardEvents() {
            const events = JSON.parse(localStorage.getItem(STORAGE_KEYS.EVENTS) || '[]');
            const tableBody = document.getElementById('eventsListTable');
            
            if (!tableBody) return;

            tableBody.innerHTML = '';
            events.forEach(event => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${event.title}</td>
                    <td>${new Date(event.date).toLocaleDateString()}</td>
                    <td>${event.type}</td>
                    <td>${event.location}</td>
                    <td><span class="role-badge" style="background: #4CAF50; color: white; padding: 3px 8px; border-radius: 10px; font-size: 0.8rem;">${event.status}</span></td>
                    <td class="table-actions">
                        <button class="table-btn view" onclick="viewEvent('${event.id}')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="table-btn edit" onclick="editEvent('${event.id}')">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="table-btn delete" onclick="deleteEvent('${event.id}', '${event.title}')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Create event
        function createEvent() {
            const title = document.getElementById('eventTitle').value;
            const description = document.getElementById('eventDescription').value;
            const date = document.getElementById('eventDate').value;
            const type = document.getElementById('eventType').value;
            const location = document.getElementById('eventLocation').value;

            if (!title || !description || !date || !type || !location) {
                alert('Please fill in all fields!');
                return;
            }

            const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
            const events = JSON.parse(localStorage.getItem(STORAGE_KEYS.EVENTS) || '[]');

            const newEvent = {
                id: Date.now().toString(),
                title: title,
                description: description,
                date: date,
                type: type,
                location: location,
                createdBy: currentUser.username || 'Admin',
                createdById: currentUser.id || '1',
                participants: 0,
                status: 'upcoming'
            };

            events.push(newEvent);
            localStorage.setItem(STORAGE_KEYS.EVENTS, JSON.stringify(events));
            logActivity(currentUser.username, `Created event: ${title}`);

            alert('Event created successfully!');
            closeModal('createEventModal');
            loadDashboardEvents();
        }

        // =============================================
        // NEWS SYSTEM
        // =============================================

        // Load news
        function loadNews() {
            // Implementation similar to loadMedia
        }

        // Load dashboard news
        function loadDashboardNews() {
            const news = JSON.parse(localStorage.getItem(STORAGE_KEYS.NEWS) || '[]');
            const tableBody = document.getElementById('newsListTable');
            
            if (!tableBody) return;

            tableBody.innerHTML = '';
            news.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.title}</td>
                    <td>${item.category}</td>
                    <td>${item.author}</td>
                    <td>${item.date}</td>
                    <td><span class="role-badge" style="background: #00ccff; color: #050510; padding: 3px 8px; border-radius: 10px; font-size: 0.8rem;">${item.status}</span></td>
                    <td class="table-actions">
                        <button class="table-btn view" onclick="viewNews('${item.id}')">
                            <i class="fas fa-eye"></i> View
                        </button>
                        <button class="table-btn edit" onclick="editNews('${item.id}')">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="table-btn delete" onclick="deleteNews('${item.id}', '${item.title}')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Create news
        function createNews() {
            const title = document.getElementById('newsTitle').value;
            const content = document.getElementById('newsContent').value;
            const category = document.getElementById('newsCategory').value;
            const image = document.getElementById('newsImage').value;

            if (!title || !content || !category) {
                alert('Please fill in all required fields!');
                return;
            }

            const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
            const news = JSON.parse(localStorage.getItem(STORAGE_KEYS.NEWS) || '[]');

            const newNews = {
                id: Date.now().toString(),
                title: title,
                content: content,
                category: category,
                image: image || 'https://images.unsplash.com/photo-1550745165-9bc0b252726f',
                author: currentUser.username || 'Admin',
                authorId: currentUser.id || '1',
                date: new Date().toLocaleDateString(),
                status: 'published'
            };

            news.push(newNews);
            localStorage.setItem(STORAGE_KEYS.NEWS, JSON.stringify(news));
            logActivity(currentUser.username, `Created news: ${title}`);

            alert('News published successfully!');
            closeModal('createNewsModal');
            loadDashboardNews();
        }

        // =============================================
        // USER MANAGEMENT
        // =============================================

        // Load users
        function loadUsers() {
            const users = JSON.parse(localStorage.getItem(STORAGE_KEYS.USERS) || '[]');
            const tableBody = document.getElementById('userListTable');
            const currentUser = JSON.parse(localStorage.getItem(STORAGE_KEYS.CURRENT_USER) || '{}');
            
            if (!tableBody) return;

            // Update stats
            const teamMembers = users.filter(u => u.role === 'team').length;
            const admins = users.filter(u => u.role === 'admin').length;
            const pendingApps = JSON.parse(localStorage.getItem(STORAGE_KEYS.APPLICATIONS) || '[]')
                .filter(app => app.status === 'pending').length;
            
            document.getElementById('teamMembersCount').textContent = teamMembers;
            document.getElementById('adminsCount').textContent = admins;
            document.getElementById('pendingAppsCount').textContent = pendingApps;

            // Update table
            tableBody.innerHTML = '';
            users.forEach(user => {
                let roleClass = 'role-community';
                if (user.role === 'team') roleClass = 'role-team';
                if (user.role === 'admin') roleClass = 'role-admin';

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>
                        ${user.username}
                        ${user.id === currentUser.id ? ' <span style="color: #00ccff;">(You)</span>' : ''}
                    </td>
                    <td>${user.email}</td>
                    <td><span class="role-badge ${roleClass}">${user.role}</span></td>
                    <td>${new Date(user.createdAt).toLocaleDateString()}</td>
                    <td>${new Date(user.lastLogin).toLocaleDateString()}</td>
                    <td class="table-actions">
                        ${user.id !== currentUser.id ? `
                        <button class="table-btn edit" onclick="editUser('${user.id}')">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="table-btn delete" onclick="deleteUser('${user.id}', '${user.username}')">
                            <i class="fas fa-trash"></i> Delete
                        </button>
                        ` : '<span style="color: #a0b0ff;">Current User</span>'}
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        // =============================================
        // UTILITY FUNCTIONS
        // =============================================

        // Open modal
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'flex';
            }
        }

        // Close modal
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                
                // Reset form
                const form = modal.querySelector('form');
                if (form) {
                    form.reset();
                }
            }
        }

        // Switch to register modal
        function switchToRegister() {
            closeModal('loginModal');
            openModal('registerModal');
        }

        // Switch to login modal
        function switchToLogin() {
            closeModal('registerModal');
            openModal('loginModal');
        }

        // Log activity
        function logActivity(user, action) {
            const activities = JSON.parse(localStorage.getItem(STORAGE_KEYS.ACTIVITY) || '[]');
            
            const activity = {
                id: Date.now().toString(),
                user: user,
                action: action,
                time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
            };
            
            activities.unshift(activity);
            if (activities.length > 50) activities.pop(); // Keep last 50 activities
            
            localStorage.setItem(STORAGE_KEYS.ACTIVITY, JSON.stringify(activities));
            
            // Update dashboard if open
            if (document.getElementById('dashboard').style.display === 'block') {
                loadDashboardOverview();
            }
        }

        // Animated counters
        function animateCounter(element) {
            const target = parseInt(element.getAttribute('data-count'));
            const increment = target / 50;
            let current = 0;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current);
                }
            }, 20);
        }

        // Filter media
        function filterMedia(category) {
            const tabs = document.querySelectorAll('.media-tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // In a real app, this would filter the media grid
            console.log('Filtering by:', category);
        }

        // Watch media
        function watchMedia(url) {
            window.open(url, '_blank');
        }

        // Share media
        function shareMedia(title, url) {
            if (navigator.share) {
                navigator.share({
                    title: title,
                    url: url
                });
            } else {
                navigator.clipboard.writeText(url);
                alert('Link copied to clipboard!');
            }
        }

        // =============================================
        // INITIALIZATION
        // =============================================

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Hide preloader
            window.addEventListener('load', function() {
                setTimeout(() => {
                    const preloader = document.getElementById('preloader');
                    if (preloader) {
                        preloader.style.opacity = '0';
                        preloader.style.visibility = 'hidden';
                    }
                }, 1000);
            });

            // Initialize app
            initApp();

            // Back to top button
            const backToTop = document.getElementById('backToTop');
            window.addEventListener('scroll', function() {
                if (window.scrollY > 500) {
                    backToTop.classList.add('active');
                } else {
                    backToTop.classList.remove('active');
                }
            });

            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // =============================================
        // COMPATIBILITY FUNCTIONS
        // =============================================

        // Show team portal
        function showTeamPortal() {
            showDashboard();
            showDashboardSection('overview');
        }

        // Show admin panel
        function showAdminPanel() {
            showDashboard();
            showDashboardSection('users');
        }

        // Open upload modal
        function openUploadModal() {
            openModal('uploadMediaModal');
        }

        // Open event modal
        function openEventModal() {
            openModal('createEventModal');
        }

        // Open news modal
        function openNewsModal() {
            openModal('createNewsModal');
        }

        // Placeholder functions for edit/delete operations
        function editMedia(id) {
            alert('Edit media functionality coming soon!');
        }

        function deleteMedia(id, title) {
            if (confirm(`Delete media: "${title}"?`)) {
                alert('Delete functionality coming soon!');
            }
        }

        function editEvent(id) {
            alert('Edit event functionality coming soon!');
        }

        function deleteEvent(id, title) {
            if (confirm(`Delete event: "${title}"?`)) {
                alert('Delete functionality coming soon!');
            }
        }

        function editNews(id) {
            alert('Edit news functionality coming soon!');
        }

        function deleteNews(id, title) {
            if (confirm(`Delete news: "${title}"?`)) {
                alert('Delete functionality coming soon!');
            }
        }

        function editUser(id) {
            alert('Edit user functionality coming soon!');
        }

        function deleteUser(id, username) {
            if (confirm(`Delete user: "${username}"?`)) {
                alert('Delete functionality coming soon!');
            }
        }

        function viewEvent(id) {
            alert('View event details coming soon!');
        }

        function viewNews(id) {
            alert('View news details coming soon!');
        }

        function viewApplicationDetails(id) {
            alert('View application details coming soon!');
        }
    </script>
</body>
</html>
